{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alisson\\\\Desktop\\\\NEWAPP CONTROLE FINANCEIRO\\\\controle-gastos-frontend\\\\src\\\\pages\\\\Relatorio\\\\Relatorio.js\",\n  _s = $RefreshSig$();\n// src/pages/Relatorio/Relatorio.js\nimport React, { useEffect, useState } from 'react';\nimport { obterTransacoes, obterCategorias, obterTags } from '../../api.js';\nimport './Relatorio.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Relatorio = () => {\n  _s();\n  const [transacoes, setTransacoes] = useState([]);\n  const [filteredTransacoes, setFilteredTransacoes] = useState([]);\n\n  // Estados dos filtros\n  const [dataInicio, setDataInicio] = useState('');\n  const [dataFim, setDataFim] = useState('');\n  const [selectedPessoas, setSelectedPessoas] = useState([]);\n  const [selectedTipo, setSelectedTipo] = useState('both');\n  const [categorias, setCategorias] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [tagFilters, setTagFilters] = useState({});\n\n  // Estado para resumo dos resultados\n  const [summaryInfo, setSummaryInfo] = useState({});\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const transData = await obterTransacoes();\n        const transArray = transData.transacoes || [];\n        setTransacoes(transArray);\n        setFilteredTransacoes(transArray);\n        const cats = await obterCategorias();\n        setCategorias(cats);\n        const initTagFilters = {};\n        cats.forEach(cat => {\n          initTagFilters[cat.nome] = [];\n        });\n        setTagFilters(initTagFilters);\n        const tgs = await obterTags();\n        setTags(tgs);\n      } catch (error) {\n        console.error('Erro ao carregar dados para relatório:', error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  // Função para extrair pessoas únicas (a partir dos pagamentos)\n  const distinctPessoas = dataArray => {\n    const pessoasSet = new Set();\n    dataArray.forEach(tr => {\n      if (tr.pagamentos) {\n        tr.pagamentos.forEach(p => {\n          if (p.pessoa) pessoasSet.add(p.pessoa);\n        });\n      }\n    });\n    return Array.from(pessoasSet);\n  };\n\n  // Agrupa as tags por categoria\n  const tagsPorCategoria = tags.reduce((acc, tag) => {\n    if (tag.categoria) {\n      if (!acc[tag.categoria]) {\n        acc[tag.categoria] = [];\n      }\n      acc[tag.categoria].push(tag);\n    }\n    return acc;\n  }, {});\n\n  // Função de filtragem\n  const applyFilters = () => {\n    let result = transacoes;\n    // Filtro por data\n    if (dataInicio) {\n      result = result.filter(tr => new Date(tr.data) >= new Date(dataInicio));\n    }\n    if (dataFim) {\n      result = result.filter(tr => new Date(tr.data) <= new Date(dataFim));\n    }\n    // Filtro por tipo\n    if (selectedTipo !== 'both') {\n      result = result.filter(tr => tr.tipo.toLowerCase() === selectedTipo);\n    }\n    // Filtro por pessoas\n    if (selectedPessoas.length > 0) {\n      result = result.filter(tr => tr.pagamentos && tr.pagamentos.some(p => selectedPessoas.includes(p.pessoa)));\n    }\n    // Filtro por tags (tanto do pai quanto dos pagamentos)\n    Object.keys(tagFilters).forEach(cat => {\n      const selectedTags = tagFilters[cat];\n      if (selectedTags && selectedTags.length > 0) {\n        result = result.filter(tr => {\n          const parentMatch = tr.tags && tr.tags[cat] && tr.tags[cat].some(tag => selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase()));\n          const paymentsMatch = tr.pagamentos && tr.pagamentos.some(p => p.tags && p.tags[cat] && p.tags[cat].some(tag => selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase())));\n          return parentMatch || paymentsMatch;\n        });\n      }\n    });\n    setFilteredTransacoes(result);\n  };\n\n  // Atualiza o resumo sempre que os resultados filtrados mudarem\n  useEffect(() => {\n    const totalTransactions = filteredTransacoes.length;\n    const totalValue = filteredTransacoes.reduce((acc, tr) => acc + parseFloat(tr.valor || 0), 0);\n    const people = distinctPessoas(filteredTransacoes);\n    const averagePerPerson = people.length > 0 ? (totalValue / people.length).toFixed(2) : 0;\n    setSummaryInfo({\n      totalTransactions,\n      totalValue,\n      totalPeople: people.length,\n      averagePerPerson,\n      filters: {\n        dataInicio,\n        dataFim,\n        selectedTipo,\n        selectedPessoas,\n        tagFilters\n      }\n    });\n  }, [filteredTransacoes, dataInicio, dataFim, selectedTipo, selectedPessoas, tagFilters]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relatorio-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"relatorio-title\",\n      children: \"Relat\\xF3rios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data In\\xEDcio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: dataInicio,\n            onChange: e => setDataInicio(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Fim:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: dataFim,\n            onChange: e => setDataFim(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Pessoas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            multiple: true,\n            value: selectedPessoas,\n            onChange: e => {\n              const values = Array.from(e.target.selectedOptions, option => option.value);\n              setSelectedPessoas(values);\n            },\n            children: distinctPessoas(transacoes).map((p, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p,\n              children: p\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tipo de Transa\\xE7\\xE3o:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedTipo,\n            onChange: e => setSelectedTipo(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"both\",\n              children: \"Ambos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"gasto\",\n              children: \"Gasto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"recebivel\",\n              children: \"Receb\\xEDvel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [cat.nome, \" (Tags):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            multiple: true,\n            value: tagFilters[cat.nome] || [],\n            onChange: e => {\n              const selected = Array.from(e.target.selectedOptions, option => option.value);\n              setTagFilters(prev => ({\n                ...prev,\n                [cat.nome]: selected\n              }));\n            },\n            children: (tagsPorCategoria[cat.nome] || []).map(tag => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tag.nome,\n              children: tag.nome\n            }, tag.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)]\n        }, cat.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: applyFilters,\n            children: \"Filtrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Resumo dos Resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total de Transa\\xE7\\xF5es:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 14\n          }, this), \" \", summaryInfo.totalTransactions]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total em Valor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 14\n          }, this), \" R$\", summaryInfo.totalValue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"N\\xFAmero de Pessoas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 14\n          }, this), \" \", summaryInfo.totalPeople]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"M\\xE9dia por Pessoa:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 14\n          }, this), \" R$\", summaryInfo.averagePerPerson]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"applied-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Filtros Aplicados:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Data In\\xEDcio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 16\n            }, this), \" \", dataInicio || 'Todos']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Data Fim:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 16\n            }, this), \" \", dataFim || 'Todos']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tipo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 16\n            }, this), \" \", selectedTipo === 'both' ? 'Ambos' : selectedTipo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Pessoas:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 16\n            }, this), \" \", selectedPessoas.length > 0 ? selectedPessoas.join(', ') : 'Todas']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), Object.keys(tagFilters).map(cat => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [cat, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 28\n            }, this), \" \", (tagFilters[cat] || []).join(', ') || 'Todas']\n          }, cat, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relatorio-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Resultados (\", filteredTransacoes.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), filteredTransacoes.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"relatorio-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Descri\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Valor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tipo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pessoas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredTransacoes.map((tr, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: tr.descricao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(tr.data).toLocaleDateString('pt-BR', {\n                timeZone: 'UTC'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"R$\", tr.valor]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: tr.tipo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: tr.pagamentos && tr.pagamentos.map((pag, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: pag.pessoa\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: tr.tags && Object.keys(tr.tags).map((cat, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [cat, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 36\n                }, this), \" \", tr.tags[cat].join(', ')]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum registro encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(Relatorio, \"IQ8Vv7dc6ZwBbwsO5V6psvQKtmQ=\");\n_c = Relatorio;\nexport default Relatorio;\nvar _c;\n$RefreshReg$(_c, \"Relatorio\");","map":{"version":3,"names":["React","useEffect","useState","obterTransacoes","obterCategorias","obterTags","jsxDEV","_jsxDEV","Relatorio","_s","transacoes","setTransacoes","filteredTransacoes","setFilteredTransacoes","dataInicio","setDataInicio","dataFim","setDataFim","selectedPessoas","setSelectedPessoas","selectedTipo","setSelectedTipo","categorias","setCategorias","tags","setTags","tagFilters","setTagFilters","summaryInfo","setSummaryInfo","fetchData","transData","transArray","cats","initTagFilters","forEach","cat","nome","tgs","error","console","distinctPessoas","dataArray","pessoasSet","Set","tr","pagamentos","p","pessoa","add","Array","from","tagsPorCategoria","reduce","acc","tag","categoria","push","applyFilters","result","filter","Date","data","tipo","toLowerCase","length","some","includes","Object","keys","selectedTags","parentMatch","map","t","paymentsMatch","totalTransactions","totalValue","parseFloat","valor","people","averagePerPerson","toFixed","totalPeople","filters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","multiple","values","selectedOptions","option","idx","selected","prev","id","onClick","join","descricao","toLocaleDateString","timeZone","pag","i","_c","$RefreshReg$"],"sources":["C:/Users/Alisson/Desktop/NEWAPP CONTROLE FINANCEIRO/controle-gastos-frontend/src/pages/Relatorio/Relatorio.js"],"sourcesContent":["// src/pages/Relatorio/Relatorio.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { obterTransacoes, obterCategorias, obterTags } from '../../api.js';\r\nimport './Relatorio.css';\r\n\r\nconst Relatorio = () => {\r\n  const [transacoes, setTransacoes] = useState([]);\r\n  const [filteredTransacoes, setFilteredTransacoes] = useState([]);\r\n\r\n  // Estados dos filtros\r\n  const [dataInicio, setDataInicio] = useState('');\r\n  const [dataFim, setDataFim] = useState('');\r\n  const [selectedPessoas, setSelectedPessoas] = useState([]);\r\n  const [selectedTipo, setSelectedTipo] = useState('both');\r\n  const [categorias, setCategorias] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [tagFilters, setTagFilters] = useState({});\r\n\r\n  // Estado para resumo dos resultados\r\n  const [summaryInfo, setSummaryInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const transData = await obterTransacoes();\r\n        const transArray = transData.transacoes || [];\r\n        setTransacoes(transArray);\r\n        setFilteredTransacoes(transArray);\r\n        const cats = await obterCategorias();\r\n        setCategorias(cats);\r\n        const initTagFilters = {};\r\n        cats.forEach(cat => {\r\n          initTagFilters[cat.nome] = [];\r\n        });\r\n        setTagFilters(initTagFilters);\r\n        const tgs = await obterTags();\r\n        setTags(tgs);\r\n      } catch (error) {\r\n        console.error('Erro ao carregar dados para relatório:', error);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Função para extrair pessoas únicas (a partir dos pagamentos)\r\n  const distinctPessoas = (dataArray) => {\r\n    const pessoasSet = new Set();\r\n    dataArray.forEach(tr => {\r\n      if (tr.pagamentos) {\r\n        tr.pagamentos.forEach(p => {\r\n          if (p.pessoa) pessoasSet.add(p.pessoa);\r\n        });\r\n      }\r\n    });\r\n    return Array.from(pessoasSet);\r\n  };\r\n\r\n  // Agrupa as tags por categoria\r\n  const tagsPorCategoria = tags.reduce((acc, tag) => {\r\n    if (tag.categoria) {\r\n      if (!acc[tag.categoria]) {\r\n        acc[tag.categoria] = [];\r\n      }\r\n      acc[tag.categoria].push(tag);\r\n    }\r\n    return acc;\r\n  }, {});\r\n\r\n  // Função de filtragem\r\n  const applyFilters = () => {\r\n    let result = transacoes;\r\n    // Filtro por data\r\n    if (dataInicio) {\r\n      result = result.filter(tr => new Date(tr.data) >= new Date(dataInicio));\r\n    }\r\n    if (dataFim) {\r\n      result = result.filter(tr => new Date(tr.data) <= new Date(dataFim));\r\n    }\r\n    // Filtro por tipo\r\n    if (selectedTipo !== 'both') {\r\n      result = result.filter(tr => tr.tipo.toLowerCase() === selectedTipo);\r\n    }\r\n    // Filtro por pessoas\r\n    if (selectedPessoas.length > 0) {\r\n      result = result.filter(tr => tr.pagamentos && tr.pagamentos.some(p => selectedPessoas.includes(p.pessoa)));\r\n    }\r\n    // Filtro por tags (tanto do pai quanto dos pagamentos)\r\n    Object.keys(tagFilters).forEach(cat => {\r\n      const selectedTags = tagFilters[cat];\r\n      if (selectedTags && selectedTags.length > 0) {\r\n        result = result.filter(tr => {\r\n          const parentMatch =\r\n            tr.tags &&\r\n            tr.tags[cat] &&\r\n            tr.tags[cat].some(tag =>\r\n              selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase())\r\n            );\r\n          const paymentsMatch =\r\n            tr.pagamentos &&\r\n            tr.pagamentos.some(p =>\r\n              p.tags &&\r\n              p.tags[cat] &&\r\n              p.tags[cat].some(tag =>\r\n                selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase())\r\n              )\r\n            );\r\n          return parentMatch || paymentsMatch;\r\n        });\r\n      }\r\n    });\r\n    setFilteredTransacoes(result);\r\n  };\r\n\r\n  // Atualiza o resumo sempre que os resultados filtrados mudarem\r\n  useEffect(() => {\r\n    const totalTransactions = filteredTransacoes.length;\r\n    const totalValue = filteredTransacoes.reduce((acc, tr) => acc + parseFloat(tr.valor || 0), 0);\r\n    const people = distinctPessoas(filteredTransacoes);\r\n    const averagePerPerson = people.length > 0 ? (totalValue / people.length).toFixed(2) : 0;\r\n    setSummaryInfo({\r\n      totalTransactions,\r\n      totalValue,\r\n      totalPeople: people.length,\r\n      averagePerPerson,\r\n      filters: {\r\n        dataInicio,\r\n        dataFim,\r\n        selectedTipo,\r\n        selectedPessoas,\r\n        tagFilters\r\n      }\r\n    });\r\n  }, [filteredTransacoes, dataInicio, dataFim, selectedTipo, selectedPessoas, tagFilters]);\r\n\r\n  return (\r\n    <div className=\"relatorio-container\">\r\n      <h2 className=\"relatorio-title\">Relatórios</h2>\r\n      <div className=\"top-section\">\r\n        <div className=\"filter-panel\">\r\n          <div className=\"filter-group\">\r\n            <label>Data Início:</label>\r\n            <input type=\"date\" value={dataInicio} onChange={e => setDataInicio(e.target.value)} />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Data Fim:</label>\r\n            <input type=\"date\" value={dataFim} onChange={e => setDataFim(e.target.value)} />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Pessoas:</label>\r\n            <select multiple value={selectedPessoas}\r\n              onChange={e => {\r\n                const values = Array.from(e.target.selectedOptions, option => option.value);\r\n                setSelectedPessoas(values);\r\n              }}>\r\n              {distinctPessoas(transacoes).map((p, idx) => (\r\n                <option key={idx} value={p}>{p}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Tipo de Transação:</label>\r\n            <select value={selectedTipo} onChange={e => setSelectedTipo(e.target.value)}>\r\n              <option value=\"both\">Ambos</option>\r\n              <option value=\"gasto\">Gasto</option>\r\n              <option value=\"recebivel\">Recebível</option>\r\n            </select>\r\n          </div>\r\n          {categorias.map(cat => (\r\n            <div key={cat.id} className=\"filter-group\">\r\n              <label>{cat.nome} (Tags):</label>\r\n              <select multiple\r\n                value={tagFilters[cat.nome] || []}\r\n                onChange={e => {\r\n                  const selected = Array.from(e.target.selectedOptions, option => option.value);\r\n                  setTagFilters(prev => ({ ...prev, [cat.nome]: selected }));\r\n                }}>\r\n                {(tagsPorCategoria[cat.nome] || []).map(tag => (\r\n                  <option key={tag.id} value={tag.nome}>{tag.nome}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          ))}\r\n          <div className=\"filter-group\">\r\n            <button onClick={applyFilters}>Filtrar</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"summary-panel\">\r\n          <h3>Resumo dos Resultados</h3>\r\n          <p><strong>Total de Transações:</strong> {summaryInfo.totalTransactions}</p>\r\n          <p><strong>Total em Valor:</strong> R${summaryInfo.totalValue}</p>\r\n          <p><strong>Número de Pessoas:</strong> {summaryInfo.totalPeople}</p>\r\n          <p><strong>Média por Pessoa:</strong> R${summaryInfo.averagePerPerson}</p>\r\n          <div className=\"applied-filters\">\r\n            <h4>Filtros Aplicados:</h4>\r\n            <p><strong>Data Início:</strong> {dataInicio || 'Todos'}</p>\r\n            <p><strong>Data Fim:</strong> {dataFim || 'Todos'}</p>\r\n            <p><strong>Tipo:</strong> {selectedTipo === 'both' ? 'Ambos' : selectedTipo}</p>\r\n            <p><strong>Pessoas:</strong> {selectedPessoas.length > 0 ? selectedPessoas.join(', ') : 'Todas'}</p>\r\n            {Object.keys(tagFilters).map(cat => (\r\n              <p key={cat}><strong>{cat}:</strong> {(tagFilters[cat] || []).join(', ') || 'Todas'}</p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"relatorio-results\">\r\n        <h3>Resultados ({filteredTransacoes.length})</h3>\r\n        {filteredTransacoes.length > 0 ? (\r\n          <table className=\"relatorio-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Descrição</th>\r\n                <th>Data</th>\r\n                <th>Valor</th>\r\n                <th>Tipo</th>\r\n                <th>Pessoas</th>\r\n                <th>Tags</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredTransacoes.map((tr, idx) => (\r\n                <tr key={idx}>\r\n                  <td>{tr.descricao}</td>\r\n                  <td>{new Date(tr.data).toLocaleDateString('pt-BR', { timeZone: 'UTC' })}</td>\r\n                  <td>R${tr.valor}</td>\r\n                  <td>{tr.tipo}</td>\r\n                  <td>\r\n                    {tr.pagamentos && tr.pagamentos.map((pag, i) => (\r\n                      <div key={i}>{pag.pessoa}</div>\r\n                    ))}\r\n                  </td>\r\n                  <td>\r\n                    {tr.tags && Object.keys(tr.tags).map((cat, i) => (\r\n                      <div key={i}><strong>{cat}:</strong> {tr.tags[cat].join(', ')}</div>\r\n                    ))}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>Nenhum registro encontrado.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Relatorio;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}