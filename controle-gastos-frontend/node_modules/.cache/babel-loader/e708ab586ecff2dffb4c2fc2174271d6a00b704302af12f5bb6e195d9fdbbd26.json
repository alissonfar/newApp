{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alisson\\\\Desktop\\\\NEWAPP CONTROLE FINANCEIRO\\\\controle-gastos-frontend\\\\src\\\\pages\\\\Relatorio\\\\Relatorio.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { obterTransacoes, obterCategorias, obterTags } from '../../api.js';\nimport { exportDataToCSV } from '../../utils/export/exportData';\nimport { exportDataToPDF } from '../../utils/export/exportDataPdf';\nimport './Relatorio.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Relatorio = () => {\n  _s();\n  // Array achatado com base em pai + pagamentos\n  const [allPayments, setAllPayments] = useState([]);\n  // Resultado final após filtros/busca/ordenação\n  const [filteredRows, setFilteredRows] = useState([]);\n\n  // Filtros\n  const [dataInicio, setDataInicio] = useState('');\n  const [dataFim, setDataFim] = useState('');\n  const [selectedTipo, setSelectedTipo] = useState('both');\n  const [selectedPessoas, setSelectedPessoas] = useState([]);\n  const [categorias, setCategorias] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [tagFilters, setTagFilters] = useState({});\n\n  // Sumário\n  const [summaryInfo, setSummaryInfo] = useState({});\n\n  // Exportação (AGORA POR PADRÃO PDF)\n  const [exportFormat, setExportFormat] = useState('pdf');\n\n  // Seleção rápida de datas\n  const [quickRange, setQuickRange] = useState('');\n\n  // Busca e Ordenação\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortColumn, setSortColumn] = useState('');\n  const [sortDirection, setSortDirection] = useState('asc');\n\n  // 1) Carregamento inicial\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const transData = await obterTransacoes();\n        const transArray = transData.transacoes || [];\n\n        // Achatar cada transacao pai em vários registros\n        const flattened = [];\n        transArray.forEach(tr => {\n          if (!tr.pagamentos || tr.pagamentos.length === 0) {\n            flattened.push({\n              parentId: tr.id,\n              dataPai: tr.data,\n              // formato YYYY-MM-DD ou ISO\n              tipoPai: tr.tipo,\n              descricaoPai: tr.descricao,\n              valorPai: tr.valor,\n              pessoa: null,\n              valorPagamento: 0,\n              tagsPagamento: {}\n            });\n          } else {\n            tr.pagamentos.forEach(p => {\n              flattened.push({\n                parentId: tr.id,\n                dataPai: tr.data,\n                tipoPai: tr.tipo,\n                descricaoPai: tr.descricao,\n                valorPai: tr.valor,\n                pessoa: p.pessoa,\n                valorPagamento: p.valor,\n                tagsPagamento: p.tags || {}\n              });\n            });\n          }\n        });\n        setAllPayments(flattened);\n\n        // Carrega categorias e tags\n        const cats = await obterCategorias();\n        setCategorias(cats);\n        const initTagFilters = {};\n        cats.forEach(cat => {\n          initTagFilters[cat.nome] = [];\n        });\n        setTagFilters(initTagFilters);\n        const tgs = await obterTags();\n        setTags(tgs);\n      } catch (error) {\n        console.error('Erro ao carregar dados para relatório:', error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  // Função para extrair pessoas únicas\n  const distinctPessoas = rows => {\n    const setP = new Set();\n    rows.forEach(row => {\n      if (row.pessoa) setP.add(row.pessoa);\n    });\n    return Array.from(setP);\n  };\n\n  // Agrupa as tags por categoria (para exibir nos filtros)\n  const tagsPorCategoria = tags.reduce((acc, tag) => {\n    if (tag.categoria) {\n      if (!acc[tag.categoria]) {\n        acc[tag.categoria] = [];\n      }\n      acc[tag.categoria].push(tag);\n    }\n    return acc;\n  }, {});\n\n  // Seleção rápida de datas\n  const handleQuickDateRange = option => {\n    const now = new Date();\n    let start, end;\n    switch (option) {\n      case 'MES_ATUAL':\n        start = new Date(now.getFullYear(), now.getMonth(), 1);\n        end = new Date(now.getFullYear(), now.getMonth() + 1, 0);\n        break;\n      case 'MES_ANTERIOR':\n        const lastMonthDate = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n        start = new Date(lastMonthDate.getFullYear(), lastMonthDate.getMonth(), 1);\n        end = new Date(lastMonthDate.getFullYear(), lastMonthDate.getMonth() + 1, 0);\n        break;\n      case 'ULTIMOS_60_DIAS':\n        end = now;\n        start = new Date();\n        start.setDate(start.getDate() - 60);\n        break;\n      case 'ULTIMOS_30_DIAS':\n        end = now;\n        start = new Date();\n        start.setDate(start.getDate() - 30);\n        break;\n      case 'ULTIMOS_15_DIAS':\n        end = now;\n        start = new Date();\n        start.setDate(start.getDate() - 15);\n        break;\n      case 'ULTIMOS_7_DIAS':\n        end = now;\n        start = new Date();\n        start.setDate(start.getDate() - 7);\n        break;\n      default:\n        return;\n    }\n    const toStringDate = date => {\n      const yyyy = date.getFullYear();\n      const mm = String(date.getMonth() + 1).padStart(2, '0');\n      const dd = String(date.getDate()).padStart(2, '0');\n      return `${yyyy}-${mm}-${dd}`;\n    };\n    setDataInicio(toStringDate(start));\n    setDataFim(toStringDate(end));\n  };\n\n  // 2) Função principal de FILTRO + BUSCA + ORDENAÇÃO\n  const applyFilters = () => {\n    let result = [...allPayments];\n\n    // Filtro por data (pai)\n    if (dataInicio) {\n      result = result.filter(row => {\n        const [fullDate] = row.dataPai.split('T');\n        return fullDate >= dataInicio;\n      });\n    }\n    if (dataFim) {\n      result = result.filter(row => {\n        const [fullDate] = row.dataPai.split('T');\n        return fullDate <= dataFim;\n      });\n    }\n\n    // Filtro por tipo\n    if (selectedTipo !== 'both') {\n      result = result.filter(row => row.tipoPai.toLowerCase() === selectedTipo);\n    }\n\n    // Filtro por pessoas\n    if (selectedPessoas.length > 0) {\n      result = result.filter(row => row.pessoa && selectedPessoas.includes(row.pessoa));\n    }\n\n    // Filtro por tags (pagamento)\n    Object.keys(tagFilters).forEach(cat => {\n      const selectedTags = tagFilters[cat];\n      if (selectedTags && selectedTags.length > 0) {\n        result = result.filter(row => {\n          const pagTags = row.tagsPagamento[cat] || [];\n          const pagMatch = pagTags.some(tag => selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase()));\n          return pagMatch;\n        });\n      }\n    });\n\n    // Busca\n    if (searchTerm.trim() !== '') {\n      const lower = searchTerm.toLowerCase();\n      result = result.filter(row => {\n        var _row$descricaoPai, _row$pessoa;\n        const descMatch = (_row$descricaoPai = row.descricaoPai) === null || _row$descricaoPai === void 0 ? void 0 : _row$descricaoPai.toLowerCase().includes(lower);\n        const pessoaMatch = (_row$pessoa = row.pessoa) === null || _row$pessoa === void 0 ? void 0 : _row$pessoa.toLowerCase().includes(lower);\n        return descMatch || pessoaMatch;\n      });\n    }\n\n    // Ordenação\n    if (sortColumn) {\n      result.sort((a, b) => {\n        let valA = a[sortColumn];\n        let valB = b[sortColumn];\n\n        // Comparar datas\n        if (sortColumn === 'dataPai') {\n          const [fullA] = (valA || '').split('T');\n          const [fullB] = (valB || '').split('T');\n          return sortDirection === 'asc' ? fullA.localeCompare(fullB) : fullB.localeCompare(fullA);\n        }\n        // Comparar números\n        else if (sortColumn === 'valorPagamento') {\n          const numA = parseFloat(valA) || 0;\n          const numB = parseFloat(valB) || 0;\n          return sortDirection === 'asc' ? numA - numB : numB - numA;\n        }\n        // Comparar strings\n        else {\n          valA = (valA || '').toString().toLowerCase();\n          valB = (valB || '').toString().toLowerCase();\n          if (valA < valB) return sortDirection === 'asc' ? -1 : 1;\n          if (valA > valB) return sortDirection === 'asc' ? 1 : -1;\n          return 0;\n        }\n      });\n    }\n    setFilteredRows(result);\n  };\n\n  // 3) Recalcula o sumário quando filteredRows muda\n  useEffect(() => {\n    const totalTransactions = filteredRows.length;\n    const totalValueNumber = filteredRows.reduce((acc, row) => acc + parseFloat(row.valorPagamento || 0), 0);\n    const totalValue = totalValueNumber.toFixed(2);\n    const people = distinctPessoas(filteredRows);\n    const averagePerPerson = people.length > 0 ? (totalValueNumber / people.length).toFixed(2) : '0.00';\n\n    // Gastos x Recebíveis\n    const totalGastosNumber = filteredRows.filter(row => {\n      var _row$tipoPai;\n      return ((_row$tipoPai = row.tipoPai) === null || _row$tipoPai === void 0 ? void 0 : _row$tipoPai.toLowerCase()) === 'gasto';\n    }).reduce((acc, row) => acc + parseFloat(row.valorPagamento || 0), 0);\n    const totalRecebiveisNumber = filteredRows.filter(row => {\n      var _row$tipoPai2;\n      return ((_row$tipoPai2 = row.tipoPai) === null || _row$tipoPai2 === void 0 ? void 0 : _row$tipoPai2.toLowerCase()) === 'recebivel';\n    }).reduce((acc, row) => acc + parseFloat(row.valorPagamento || 0), 0);\n    const totalGastos = totalGastosNumber.toFixed(2);\n    const totalRecebiveis = totalRecebiveisNumber.toFixed(2);\n    const netValue = (totalRecebiveisNumber - totalGastosNumber).toFixed(2);\n    setSummaryInfo({\n      totalTransactions,\n      totalValue,\n      totalPeople: people.length,\n      averagePerPerson,\n      totalGastos,\n      totalRecebiveis,\n      netValue\n    });\n  }, [filteredRows]);\n\n  // 4) Exportação\n  const handleExport = () => {\n    const filterDetails = {\n      dataInicio,\n      dataFim,\n      selectedTipo,\n      selectedPessoas,\n      tagFilters\n    };\n    if (exportFormat === 'csv') {\n      exportDataToCSV(filteredRows, 'relatorio.csv');\n    } else {\n      // Padrão PDF\n      exportDataToPDF(filteredRows, filterDetails, summaryInfo, 'relatorio.pdf');\n    }\n  };\n\n  // 5) Limpar Filtros\n  const handleClearFilters = () => {\n    setDataInicio('');\n    setDataFim('');\n    setSelectedTipo('both');\n    setSelectedPessoas([]);\n    // Resetar tags\n    const resetTagFilters = {};\n    categorias.forEach(cat => {\n      resetTagFilters[cat.nome] = [];\n    });\n    setTagFilters(resetTagFilters);\n    setQuickRange('');\n    setSearchTerm('');\n    setSortColumn('');\n    setSortDirection('asc');\n\n    // Se quiser já aplicar e mostrar tudo:\n    setFilteredRows(allPayments);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relatorio-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"relatorio-title\",\n      children: \"Relat\\xF3rios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Datas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Sele\\xE7\\xE3o R\\xE1pida de Datas:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: quickRange,\n                onChange: e => {\n                  setQuickRange(e.target.value);\n                  handleQuickDateRange(e.target.value);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Selecione --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"MES_ATUAL\",\n                  children: \"M\\xEAs Atual\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"MES_ANTERIOR\",\n                  children: \"M\\xEAs Anterior\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ULTIMOS_60_DIAS\",\n                  children: \"\\xDAltimos 60 Dias\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ULTIMOS_30_DIAS\",\n                  children: \"\\xDAltimos 30 Dias\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ULTIMOS_15_DIAS\",\n                  children: \"\\xDAltimos 15 Dias\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ULTIMOS_7_DIAS\",\n                  children: \"\\xDAltimos 7 Dias\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Data In\\xEDcio (Pai):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: dataInicio,\n                onChange: e => setDataInicio(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Data Fim (Pai):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: dataFim,\n                onChange: e => setDataFim(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Transa\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Pessoas (Pagamento):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                multiple: true,\n                value: selectedPessoas,\n                onChange: e => {\n                  const values = Array.from(e.target.selectedOptions, opt => opt.value);\n                  setSelectedPessoas(values);\n                },\n                children: distinctPessoas(allPayments).map((p, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: p,\n                  children: p\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Tipo de Transa\\xE7\\xE3o (Pai):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedTipo,\n                onChange: e => setSelectedTipo(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"both\",\n                  children: \"Ambos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gasto\",\n                  children: \"Gasto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"recebivel\",\n                  children: \"Receb\\xEDvel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Tags de Pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-row\",\n            children: categorias.map(cat => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [cat.nome, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                multiple: true,\n                value: tagFilters[cat.nome] || [],\n                onChange: e => {\n                  const selected = Array.from(e.target.selectedOptions, opt => opt.value);\n                  setTagFilters(prev => ({\n                    ...prev,\n                    [cat.nome]: selected\n                  }));\n                },\n                children: (tagsPorCategoria[cat.nome] || []).map(tag => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: tag.nome,\n                  children: tag.nome\n                }, tag.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, cat.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Pesquisa & Ordena\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Pesquisar:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                placeholder: \"Buscar descri\\xE7\\xE3o ou pessoa...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Ordenar por:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: sortColumn,\n                onChange: e => setSortColumn(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"--Nenhum--\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"dataPai\",\n                  children: \"Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"descricaoPai\",\n                  children: \"Descri\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"pessoa\",\n                  children: \"Pessoa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"valorPagamento\",\n                  children: \"Valor (Pagamento)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: sortDirection,\n                onChange: e => setSortDirection(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"asc\",\n                  children: \"Ascendente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"desc\",\n                  children: \"Descendente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section filter-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: applyFilters,\n            children: \"Filtrar/Buscar/Ordenar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClearFilters,\n            style: {\n              marginLeft: '10px'\n            },\n            children: \"Limpar Filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"export-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Formato:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: exportFormat,\n              onChange: e => setExportFormat(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"csv\",\n                children: \"CSV\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pdf\",\n                children: \"PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExport,\n              children: \"Exportar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Resumo dos Resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-sections\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Informa\\xE7\\xF5es Gerais\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total de \\u201CTransa\\xE7\\xF5es\\u201D (Pagamentos):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: summaryInfo.totalTransactions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total em Valor:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"R$\", summaryInfo.totalValue]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"N\\xFAmero de Pessoas:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: summaryInfo.totalPeople\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"M\\xE9dia por Pessoa:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"R$\", summaryInfo.averagePerPerson]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Detalhes Financeiros\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total de Gastos:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"R$\", summaryInfo.totalGastos]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total de Receb\\xEDveis:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"R$\", summaryInfo.totalRecebiveis]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Saldo (Receb\\xEDveis - Gastos):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"R$\", summaryInfo.netValue]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relatorio-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Resultados (\", filteredRows.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), filteredRows.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"relatorio-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Descri\\xE7\\xE3o (Pai)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Data (Pai)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pessoa (Pagamento)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Valor (Pagamento)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tipo (Pai)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tags (Pagamento)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredRows.map((row, idx) => {\n            // Formatando data manualmente (YYYY-MM-DD -> DD/MM/YYYY)\n            const [fullDate] = row.dataPai.split('T');\n            const [year, month, day] = fullDate.split('-');\n            const displayDate = year && month && day ? `${day}/${month}/${year}` : row.dataPai; // fallback\n\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.descricaoPai\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: displayDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.pessoa || '—'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"R$\", parseFloat(row.valorPagamento || 0).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.tipoPai\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: Object.keys(row.tagsPagamento || {}).map((catName, i) => row.tagsPagamento[catName].map((tagName, j) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tag-chip relatorio-tag-chip pag-tag-chip\",\n                  children: [catName, \": \", tagName]\n                }, `pag-${i}-${j}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 27\n                }, this)))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum registro encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n};\n_s(Relatorio, \"fA8UaEbu7ZKVfsqLDa9yhTSWrvk=\");\n_c = Relatorio;\nexport default Relatorio;\nvar _c;\n$RefreshReg$(_c, \"Relatorio\");","map":{"version":3,"names":["React","useEffect","useState","obterTransacoes","obterCategorias","obterTags","exportDataToCSV","exportDataToPDF","jsxDEV","_jsxDEV","Relatorio","_s","allPayments","setAllPayments","filteredRows","setFilteredRows","dataInicio","setDataInicio","dataFim","setDataFim","selectedTipo","setSelectedTipo","selectedPessoas","setSelectedPessoas","categorias","setCategorias","tags","setTags","tagFilters","setTagFilters","summaryInfo","setSummaryInfo","exportFormat","setExportFormat","quickRange","setQuickRange","searchTerm","setSearchTerm","sortColumn","setSortColumn","sortDirection","setSortDirection","fetchData","transData","transArray","transacoes","flattened","forEach","tr","pagamentos","length","push","parentId","id","dataPai","data","tipoPai","tipo","descricaoPai","descricao","valorPai","valor","pessoa","valorPagamento","tagsPagamento","p","cats","initTagFilters","cat","nome","tgs","error","console","distinctPessoas","rows","setP","Set","row","add","Array","from","tagsPorCategoria","reduce","acc","tag","categoria","handleQuickDateRange","option","now","Date","start","end","getFullYear","getMonth","lastMonthDate","setDate","getDate","toStringDate","date","yyyy","mm","String","padStart","dd","applyFilters","result","filter","fullDate","split","toLowerCase","includes","Object","keys","selectedTags","pagTags","pagMatch","some","map","t","trim","lower","_row$descricaoPai","_row$pessoa","descMatch","pessoaMatch","sort","a","b","valA","valB","fullA","fullB","localeCompare","numA","parseFloat","numB","toString","totalTransactions","totalValueNumber","totalValue","toFixed","people","averagePerPerson","totalGastosNumber","_row$tipoPai","totalRecebiveisNumber","_row$tipoPai2","totalGastos","totalRecebiveis","netValue","totalPeople","handleExport","filterDetails","handleClearFilters","resetTagFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","multiple","values","selectedOptions","opt","idx","selected","prev","placeholder","onClick","style","marginLeft","year","month","day","displayDate","catName","i","tagName","j","_c","$RefreshReg$"],"sources":["C:/Users/Alisson/Desktop/NEWAPP CONTROLE FINANCEIRO/controle-gastos-frontend/src/pages/Relatorio/Relatorio.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { obterTransacoes, obterCategorias, obterTags } from '../../api.js';\r\nimport { exportDataToCSV } from '../../utils/export/exportData';\r\nimport { exportDataToPDF } from '../../utils/export/exportDataPdf';\r\nimport './Relatorio.css';\r\n\r\nconst Relatorio = () => {\r\n  // Array achatado com base em pai + pagamentos\r\n  const [allPayments, setAllPayments] = useState([]);\r\n  // Resultado final após filtros/busca/ordenação\r\n  const [filteredRows, setFilteredRows] = useState([]);\r\n\r\n  // Filtros\r\n  const [dataInicio, setDataInicio] = useState('');\r\n  const [dataFim, setDataFim] = useState('');\r\n  const [selectedTipo, setSelectedTipo] = useState('both');\r\n  const [selectedPessoas, setSelectedPessoas] = useState([]);\r\n  const [categorias, setCategorias] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [tagFilters, setTagFilters] = useState({});\r\n\r\n  // Sumário\r\n  const [summaryInfo, setSummaryInfo] = useState({});\r\n\r\n  // Exportação (AGORA POR PADRÃO PDF)\r\n  const [exportFormat, setExportFormat] = useState('pdf');\r\n\r\n  // Seleção rápida de datas\r\n  const [quickRange, setQuickRange] = useState('');\r\n\r\n  // Busca e Ordenação\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortColumn, setSortColumn] = useState('');\r\n  const [sortDirection, setSortDirection] = useState('asc');\r\n\r\n  // 1) Carregamento inicial\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const transData = await obterTransacoes();\r\n        const transArray = transData.transacoes || [];\r\n\r\n        // Achatar cada transacao pai em vários registros\r\n        const flattened = [];\r\n        transArray.forEach((tr) => {\r\n          if (!tr.pagamentos || tr.pagamentos.length === 0) {\r\n            flattened.push({\r\n              parentId: tr.id,\r\n              dataPai: tr.data, // formato YYYY-MM-DD ou ISO\r\n              tipoPai: tr.tipo,\r\n              descricaoPai: tr.descricao,\r\n              valorPai: tr.valor,\r\n              pessoa: null,\r\n              valorPagamento: 0,\r\n              tagsPagamento: {}\r\n            });\r\n          } else {\r\n            tr.pagamentos.forEach((p) => {\r\n              flattened.push({\r\n                parentId: tr.id,\r\n                dataPai: tr.data,\r\n                tipoPai: tr.tipo,\r\n                descricaoPai: tr.descricao,\r\n                valorPai: tr.valor,\r\n                pessoa: p.pessoa,\r\n                valorPagamento: p.valor,\r\n                tagsPagamento: p.tags || {}\r\n              });\r\n            });\r\n          }\r\n        });\r\n\r\n        setAllPayments(flattened);\r\n\r\n        // Carrega categorias e tags\r\n        const cats = await obterCategorias();\r\n        setCategorias(cats);\r\n        const initTagFilters = {};\r\n        cats.forEach(cat => {\r\n          initTagFilters[cat.nome] = [];\r\n        });\r\n        setTagFilters(initTagFilters);\r\n\r\n        const tgs = await obterTags();\r\n        setTags(tgs);\r\n\r\n      } catch (error) {\r\n        console.error('Erro ao carregar dados para relatório:', error);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Função para extrair pessoas únicas\r\n  const distinctPessoas = (rows) => {\r\n    const setP = new Set();\r\n    rows.forEach(row => {\r\n      if (row.pessoa) setP.add(row.pessoa);\r\n    });\r\n    return Array.from(setP);\r\n  };\r\n\r\n  // Agrupa as tags por categoria (para exibir nos filtros)\r\n  const tagsPorCategoria = tags.reduce((acc, tag) => {\r\n    if (tag.categoria) {\r\n      if (!acc[tag.categoria]) {\r\n        acc[tag.categoria] = [];\r\n      }\r\n      acc[tag.categoria].push(tag);\r\n    }\r\n    return acc;\r\n  }, {});\r\n\r\n  // Seleção rápida de datas\r\n  const handleQuickDateRange = (option) => {\r\n    const now = new Date();\r\n    let start, end;\r\n\r\n    switch (option) {\r\n      case 'MES_ATUAL':\r\n        start = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        end = new Date(now.getFullYear(), now.getMonth() + 1, 0);\r\n        break;\r\n      case 'MES_ANTERIOR':\r\n        const lastMonthDate = new Date(now.getFullYear(), now.getMonth() - 1, 1);\r\n        start = new Date(lastMonthDate.getFullYear(), lastMonthDate.getMonth(), 1);\r\n        end = new Date(lastMonthDate.getFullYear(), lastMonthDate.getMonth() + 1, 0);\r\n        break;\r\n      case 'ULTIMOS_60_DIAS':\r\n        end = now;\r\n        start = new Date();\r\n        start.setDate(start.getDate() - 60);\r\n        break;\r\n      case 'ULTIMOS_30_DIAS':\r\n        end = now;\r\n        start = new Date();\r\n        start.setDate(start.getDate() - 30);\r\n        break;\r\n      case 'ULTIMOS_15_DIAS':\r\n        end = now;\r\n        start = new Date();\r\n        start.setDate(start.getDate() - 15);\r\n        break;\r\n      case 'ULTIMOS_7_DIAS':\r\n        end = now;\r\n        start = new Date();\r\n        start.setDate(start.getDate() - 7);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    const toStringDate = (date) => {\r\n      const yyyy = date.getFullYear();\r\n      const mm = String(date.getMonth() + 1).padStart(2, '0');\r\n      const dd = String(date.getDate()).padStart(2, '0');\r\n      return `${yyyy}-${mm}-${dd}`;\r\n    };\r\n\r\n    setDataInicio(toStringDate(start));\r\n    setDataFim(toStringDate(end));\r\n  };\r\n\r\n  // 2) Função principal de FILTRO + BUSCA + ORDENAÇÃO\r\n  const applyFilters = () => {\r\n    let result = [...allPayments];\r\n\r\n    // Filtro por data (pai)\r\n    if (dataInicio) {\r\n      result = result.filter(row => {\r\n        const [fullDate] = row.dataPai.split('T');\r\n        return fullDate >= dataInicio;\r\n      });\r\n    }\r\n    if (dataFim) {\r\n      result = result.filter(row => {\r\n        const [fullDate] = row.dataPai.split('T');\r\n        return fullDate <= dataFim;\r\n      });\r\n    }\r\n\r\n    // Filtro por tipo\r\n    if (selectedTipo !== 'both') {\r\n      result = result.filter(row => row.tipoPai.toLowerCase() === selectedTipo);\r\n    }\r\n\r\n    // Filtro por pessoas\r\n    if (selectedPessoas.length > 0) {\r\n      result = result.filter(row => row.pessoa && selectedPessoas.includes(row.pessoa));\r\n    }\r\n\r\n    // Filtro por tags (pagamento)\r\n    Object.keys(tagFilters).forEach(cat => {\r\n      const selectedTags = tagFilters[cat];\r\n      if (selectedTags && selectedTags.length > 0) {\r\n        result = result.filter(row => {\r\n          const pagTags = row.tagsPagamento[cat] || [];\r\n          const pagMatch = pagTags.some(tag =>\r\n            selectedTags.map(t => t.toLowerCase()).includes(tag.toLowerCase())\r\n          );\r\n          return pagMatch;\r\n        });\r\n      }\r\n    });\r\n\r\n    // Busca\r\n    if (searchTerm.trim() !== '') {\r\n      const lower = searchTerm.toLowerCase();\r\n      result = result.filter(row => {\r\n        const descMatch = row.descricaoPai?.toLowerCase().includes(lower);\r\n        const pessoaMatch = row.pessoa?.toLowerCase().includes(lower);\r\n        return descMatch || pessoaMatch;\r\n      });\r\n    }\r\n\r\n    // Ordenação\r\n    if (sortColumn) {\r\n      result.sort((a, b) => {\r\n        let valA = a[sortColumn];\r\n        let valB = b[sortColumn];\r\n\r\n        // Comparar datas\r\n        if (sortColumn === 'dataPai') {\r\n          const [fullA] = (valA || '').split('T');\r\n          const [fullB] = (valB || '').split('T');\r\n          return sortDirection === 'asc'\r\n            ? fullA.localeCompare(fullB)\r\n            : fullB.localeCompare(fullA);\r\n        }\r\n        // Comparar números\r\n        else if (sortColumn === 'valorPagamento') {\r\n          const numA = parseFloat(valA) || 0;\r\n          const numB = parseFloat(valB) || 0;\r\n          return sortDirection === 'asc' ? numA - numB : numB - numA;\r\n        }\r\n        // Comparar strings\r\n        else {\r\n          valA = (valA || '').toString().toLowerCase();\r\n          valB = (valB || '').toString().toLowerCase();\r\n          if (valA < valB) return sortDirection === 'asc' ? -1 : 1;\r\n          if (valA > valB) return sortDirection === 'asc' ? 1 : -1;\r\n          return 0;\r\n        }\r\n      });\r\n    }\r\n\r\n    setFilteredRows(result);\r\n  };\r\n\r\n  // 3) Recalcula o sumário quando filteredRows muda\r\n  useEffect(() => {\r\n    const totalTransactions = filteredRows.length;\r\n    const totalValueNumber = filteredRows.reduce(\r\n      (acc, row) => acc + parseFloat(row.valorPagamento || 0),\r\n      0\r\n    );\r\n    const totalValue = totalValueNumber.toFixed(2);\r\n\r\n    const people = distinctPessoas(filteredRows);\r\n    const averagePerPerson = people.length > 0\r\n      ? (totalValueNumber / people.length).toFixed(2)\r\n      : '0.00';\r\n\r\n    // Gastos x Recebíveis\r\n    const totalGastosNumber = filteredRows\r\n      .filter(row => row.tipoPai?.toLowerCase() === 'gasto')\r\n      .reduce((acc, row) => acc + parseFloat(row.valorPagamento || 0), 0);\r\n    const totalRecebiveisNumber = filteredRows\r\n      .filter(row => row.tipoPai?.toLowerCase() === 'recebivel')\r\n      .reduce((acc, row) => acc + parseFloat(row.valorPagamento || 0), 0);\r\n\r\n    const totalGastos = totalGastosNumber.toFixed(2);\r\n    const totalRecebiveis = totalRecebiveisNumber.toFixed(2);\r\n    const netValue = (totalRecebiveisNumber - totalGastosNumber).toFixed(2);\r\n\r\n    setSummaryInfo({\r\n      totalTransactions,\r\n      totalValue,\r\n      totalPeople: people.length,\r\n      averagePerPerson,\r\n      totalGastos,\r\n      totalRecebiveis,\r\n      netValue\r\n    });\r\n  }, [filteredRows]);\r\n\r\n  // 4) Exportação\r\n  const handleExport = () => {\r\n    const filterDetails = {\r\n      dataInicio,\r\n      dataFim,\r\n      selectedTipo,\r\n      selectedPessoas,\r\n      tagFilters\r\n    };\r\n\r\n    if (exportFormat === 'csv') {\r\n      exportDataToCSV(filteredRows, 'relatorio.csv');\r\n    } else {\r\n      // Padrão PDF\r\n      exportDataToPDF(filteredRows, filterDetails, summaryInfo, 'relatorio.pdf');\r\n    }\r\n  };\r\n\r\n  // 5) Limpar Filtros\r\n  const handleClearFilters = () => {\r\n    setDataInicio('');\r\n    setDataFim('');\r\n    setSelectedTipo('both');\r\n    setSelectedPessoas([]);\r\n    // Resetar tags\r\n    const resetTagFilters = {};\r\n    categorias.forEach(cat => {\r\n      resetTagFilters[cat.nome] = [];\r\n    });\r\n    setTagFilters(resetTagFilters);\r\n\r\n    setQuickRange('');\r\n    setSearchTerm('');\r\n    setSortColumn('');\r\n    setSortDirection('asc');\r\n\r\n    // Se quiser já aplicar e mostrar tudo:\r\n    setFilteredRows(allPayments);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relatorio-container\">\r\n      <h2 className=\"relatorio-title\">Relatórios</h2>\r\n\r\n      <div className=\"top-section\">\r\n        {/* Painel de Filtros (organizado em seções) */}\r\n        <div className=\"filter-panel\">\r\n\r\n          {/* Seção 1: Datas */}\r\n          <div className=\"filter-section\">\r\n            <h4>Datas</h4>\r\n            <div className=\"filter-row\">\r\n              <div className=\"filter-group\">\r\n                <label>Seleção Rápida de Datas:</label>\r\n                <select\r\n                  value={quickRange}\r\n                  onChange={e => {\r\n                    setQuickRange(e.target.value);\r\n                    handleQuickDateRange(e.target.value);\r\n                  }}\r\n                >\r\n                  <option value=\"\">-- Selecione --</option>\r\n                  <option value=\"MES_ATUAL\">Mês Atual</option>\r\n                  <option value=\"MES_ANTERIOR\">Mês Anterior</option>\r\n                  <option value=\"ULTIMOS_60_DIAS\">Últimos 60 Dias</option>\r\n                  <option value=\"ULTIMOS_30_DIAS\">Últimos 30 Dias</option>\r\n                  <option value=\"ULTIMOS_15_DIAS\">Últimos 15 Dias</option>\r\n                  <option value=\"ULTIMOS_7_DIAS\">Últimos 7 Dias</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n                <label>Data Início (Pai):</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={dataInicio}\r\n                  onChange={e => setDataInicio(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n                <label>Data Fim (Pai):</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={dataFim}\r\n                  onChange={e => setDataFim(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Seção 2: Transação */}\r\n          <div className=\"filter-section\">\r\n            <h4>Transação</h4>\r\n            <div className=\"filter-row\">\r\n              <div className=\"filter-group\">\r\n                <label>Pessoas (Pagamento):</label>\r\n                <select\r\n                  multiple\r\n                  value={selectedPessoas}\r\n                  onChange={e => {\r\n                    const values = Array.from(e.target.selectedOptions, opt => opt.value);\r\n                    setSelectedPessoas(values);\r\n                  }}\r\n                >\r\n                  {distinctPessoas(allPayments).map((p, idx) => (\r\n                    <option key={idx} value={p}>{p}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n                <label>Tipo de Transação (Pai):</label>\r\n                <select\r\n                  value={selectedTipo}\r\n                  onChange={e => setSelectedTipo(e.target.value)}\r\n                >\r\n                  <option value=\"both\">Ambos</option>\r\n                  <option value=\"gasto\">Gasto</option>\r\n                  <option value=\"recebivel\">Recebível</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Seção 3: Tags de Pagamento */}\r\n          <div className=\"filter-section\">\r\n            <h4>Tags de Pagamento</h4>\r\n            <div className=\"filter-row\">\r\n              {categorias.map(cat => (\r\n                <div key={cat.id} className=\"filter-group\">\r\n                  <label>{cat.nome}:</label>\r\n                  <select\r\n                    multiple\r\n                    value={tagFilters[cat.nome] || []}\r\n                    onChange={e => {\r\n                      const selected = Array.from(e.target.selectedOptions, opt => opt.value);\r\n                      setTagFilters(prev => ({ ...prev, [cat.nome]: selected }));\r\n                    }}\r\n                  >\r\n                    {(tagsPorCategoria[cat.nome] || []).map(tag => (\r\n                      <option key={tag.id} value={tag.nome}>{tag.nome}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Seção 4: Pesquisa & Ordenação */}\r\n          <div className=\"filter-section\">\r\n            <h4>Pesquisa & Ordenação</h4>\r\n            <div className=\"filter-row\">\r\n              <div className=\"filter-group\">\r\n                <label>Pesquisar:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchTerm}\r\n                  onChange={e => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Buscar descrição ou pessoa...\"\r\n                />\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <label>Ordenar por:</label>\r\n                <select\r\n                  value={sortColumn}\r\n                  onChange={e => setSortColumn(e.target.value)}\r\n                >\r\n                  <option value=\"\">--Nenhum--</option>\r\n                  <option value=\"dataPai\">Data</option>\r\n                  <option value=\"descricaoPai\">Descrição</option>\r\n                  <option value=\"pessoa\">Pessoa</option>\r\n                  <option value=\"valorPagamento\">Valor (Pagamento)</option>\r\n                </select>\r\n                <select\r\n                  value={sortDirection}\r\n                  onChange={e => setSortDirection(e.target.value)}\r\n                >\r\n                  <option value=\"asc\">Ascendente</option>\r\n                  <option value=\"desc\">Descendente</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Seção 5: Botões (Filtrar, Limpar e Exportar) */}\r\n          <div className=\"filter-section filter-actions\">\r\n            <button onClick={applyFilters}>Filtrar/Buscar/Ordenar</button>\r\n            <button onClick={handleClearFilters} style={{ marginLeft: '10px' }}>\r\n              Limpar Filtros\r\n            </button>\r\n\r\n            <div className=\"export-group\">\r\n              <label>Formato:</label>\r\n              <select\r\n                value={exportFormat}\r\n                onChange={e => setExportFormat(e.target.value)}\r\n              >\r\n                <option value=\"csv\">CSV</option>\r\n                <option value=\"pdf\">PDF</option>\r\n              </select>\r\n              <button onClick={handleExport}>Exportar</button>\r\n            </div>\r\n          </div>\r\n\r\n        </div> {/* Fim do filter-panel */}\r\n\r\n        {/* Painel de Resumo */}\r\n        <div className=\"summary-panel\">\r\n          <h3>Resumo dos Resultados</h3>\r\n          <div className=\"summary-sections\">\r\n            {/* Bloco 1: informações gerais */}\r\n            <div className=\"summary-section\">\r\n              <h4>Informações Gerais</h4>\r\n              <div className=\"summary-item\">\r\n                <span>Total de “Transações” (Pagamentos):</span>\r\n                <span>{summaryInfo.totalTransactions}</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span>Total em Valor:</span>\r\n                <span>R${summaryInfo.totalValue}</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span>Número de Pessoas:</span>\r\n                <span>{summaryInfo.totalPeople}</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span>Média por Pessoa:</span>\r\n                <span>R${summaryInfo.averagePerPerson}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bloco 2: detalhes financeiros */}\r\n            <div className=\"summary-section\">\r\n              <h4>Detalhes Financeiros</h4>\r\n              <div className=\"summary-item\">\r\n                <span>Total de Gastos:</span>\r\n                <span>R${summaryInfo.totalGastos}</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span>Total de Recebíveis:</span>\r\n                <span>R${summaryInfo.totalRecebiveis}</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span>Saldo (Recebíveis - Gastos):</span>\r\n                <span>R${summaryInfo.netValue}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div> {/* fim da top-section */}\r\n\r\n      <div className=\"relatorio-results\">\r\n        <h3>Resultados ({filteredRows.length})</h3>\r\n        {filteredRows.length > 0 ? (\r\n          <table className=\"relatorio-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Descrição (Pai)</th>\r\n                <th>Data (Pai)</th>\r\n                <th>Pessoa (Pagamento)</th>\r\n                <th>Valor (Pagamento)</th>\r\n                <th>Tipo (Pai)</th>\r\n                <th>Tags (Pagamento)</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredRows.map((row, idx) => {\r\n                // Formatando data manualmente (YYYY-MM-DD -> DD/MM/YYYY)\r\n                const [fullDate] = row.dataPai.split('T');\r\n                const [year, month, day] = fullDate.split('-');\r\n                const displayDate = (year && month && day)\r\n                  ? `${day}/${month}/${year}`\r\n                  : row.dataPai; // fallback\r\n\r\n                return (\r\n                  <tr key={idx}>\r\n                    <td>{row.descricaoPai}</td>\r\n                    <td>{displayDate}</td>\r\n                    <td>{row.pessoa || '—'}</td>\r\n                    <td>R${parseFloat(row.valorPagamento || 0).toFixed(2)}</td>\r\n                    <td>{row.tipoPai}</td>\r\n                    <td>\r\n                      {Object.keys(row.tagsPagamento || {}).map((catName, i) =>\r\n                        row.tagsPagamento[catName].map((tagName, j) => (\r\n                          <span key={`pag-${i}-${j}`} className=\"tag-chip relatorio-tag-chip pag-tag-chip\">\r\n                            {catName}: {tagName}\r\n                          </span>\r\n                        ))\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>Nenhum registro encontrado.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Relatorio;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}