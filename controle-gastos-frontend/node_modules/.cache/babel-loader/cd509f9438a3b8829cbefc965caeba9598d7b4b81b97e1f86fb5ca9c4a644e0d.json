{"ast":null,"code":"// src/utils/export/exportData.js\n\n/**\r\n * Converte um array de objetos em uma string CSV e dispara o download do arquivo.\r\n * @param {Array} data - Array de objetos a ser exportado.\r\n * @param {string} filename - Nome do arquivo a ser baixado (padrão: 'export.csv').\r\n */\nexport function exportDataToCSV(data, filename = 'export.csv') {\n  if (!data || !data.length) {\n    console.warn('Nenhum dado para exportar');\n    return;\n  }\n\n  // Cria o cabeçalho com base nas chaves do primeiro objeto\n  const headers = Object.keys(data[0]).join(',');\n\n  // Mapeia cada objeto para uma linha CSV, garantindo a correta formatação (ex: escapando aspas)\n  const csvRows = data.map(row => {\n    return Object.values(row).map(value => {\n      if (typeof value === 'string') {\n        // Escapa aspas e envolve o valor em aspas\n        return `\"${value.replace(/\"/g, '\"\"')}\"`;\n      }\n      return value;\n    }).join(',');\n  });\n  const csvString = `${headers}\\n${csvRows.join('\\n')}`;\n\n  // Cria um Blob e dispara o download\n  const blob = new Blob([csvString], {\n    type: 'text/csv'\n  });\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.style.display = 'none';\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  window.URL.revokeObjectURL(url);\n}","map":{"version":3,"names":["exportDataToCSV","data","filename","length","console","warn","headers","Object","keys","join","csvRows","map","row","values","value","replace","csvString","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","style","display","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["C:/Users/Alisson/Desktop/NEWAPP CONTROLE FINANCEIRO/controle-gastos-frontend/src/utils/export/exportData.js"],"sourcesContent":["// src/utils/export/exportData.js\r\n\r\n/**\r\n * Converte um array de objetos em uma string CSV e dispara o download do arquivo.\r\n * @param {Array} data - Array de objetos a ser exportado.\r\n * @param {string} filename - Nome do arquivo a ser baixado (padrão: 'export.csv').\r\n */\r\nexport function exportDataToCSV(data, filename = 'export.csv') {\r\n    if (!data || !data.length) {\r\n      console.warn('Nenhum dado para exportar');\r\n      return;\r\n    }\r\n  \r\n    // Cria o cabeçalho com base nas chaves do primeiro objeto\r\n    const headers = Object.keys(data[0]).join(',');\r\n    \r\n    // Mapeia cada objeto para uma linha CSV, garantindo a correta formatação (ex: escapando aspas)\r\n    const csvRows = data.map(row => {\r\n      return Object.values(row)\r\n        .map(value => {\r\n          if (typeof value === 'string') {\r\n            // Escapa aspas e envolve o valor em aspas\r\n            return `\"${value.replace(/\"/g, '\"\"')}\"`;\r\n          }\r\n          return value;\r\n        })\r\n        .join(',');\r\n    });\r\n  \r\n    const csvString = `${headers}\\n${csvRows.join('\\n')}`;\r\n  \r\n    // Cria um Blob e dispara o download\r\n    const blob = new Blob([csvString], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.style.display = 'none';\r\n    a.href = url;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    window.URL.revokeObjectURL(url);\r\n  }\r\n  "],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,eAAeA,CAACC,IAAI,EAAEC,QAAQ,GAAG,YAAY,EAAE;EAC3D,IAAI,CAACD,IAAI,IAAI,CAACA,IAAI,CAACE,MAAM,EAAE;IACzBC,OAAO,CAACC,IAAI,CAAC,2BAA2B,CAAC;IACzC;EACF;;EAEA;EACA,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACP,IAAI,CAAC,CAAC,CAAC,CAAC,CAACQ,IAAI,CAAC,GAAG,CAAC;;EAE9C;EACA,MAAMC,OAAO,GAAGT,IAAI,CAACU,GAAG,CAACC,GAAG,IAAI;IAC9B,OAAOL,MAAM,CAACM,MAAM,CAACD,GAAG,CAAC,CACtBD,GAAG,CAACG,KAAK,IAAI;MACZ,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;QAC7B;QACA,OAAO,IAAIA,KAAK,CAACC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG;MACzC;MACA,OAAOD,KAAK;IACd,CAAC,CAAC,CACDL,IAAI,CAAC,GAAG,CAAC;EACd,CAAC,CAAC;EAEF,MAAMO,SAAS,GAAG,GAAGV,OAAO,KAAKI,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,EAAE;;EAErD;EACA,MAAMQ,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACF,SAAS,CAAC,EAAE;IAAEG,IAAI,EAAE;EAAW,CAAC,CAAC;EACxD,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;EAC5C,MAAMO,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACrCF,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;EACxBJ,CAAC,CAACK,IAAI,GAAGT,GAAG;EACZI,CAAC,CAACM,QAAQ,GAAG5B,QAAQ;EACrBuB,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,CAAC,CAAC;EAC5BA,CAAC,CAACS,KAAK,CAAC,CAAC;EACTR,QAAQ,CAACM,IAAI,CAACG,WAAW,CAACV,CAAC,CAAC;EAC5BH,MAAM,CAACC,GAAG,CAACa,eAAe,CAACf,GAAG,CAAC;AACjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}